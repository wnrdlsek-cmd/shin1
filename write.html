<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>글쓰기 - 익명</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { background:#0b1220; color:#e6edf3; font-family:Arial; }
  .container { max-width:800px; margin:auto; padding:20px; }
</style>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
import { 
  getFirestore, collection, addDoc, serverTimestamp 
} from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
import {
  getStorage, ref as storageRef, uploadBytes, getDownloadURL
} from "https://www.gstatic.com/firebasejs/11.6.1/firebase-storage.js";

const firebaseConfig = {
  apiKey: "AIzaSyAqjmjuHR9c9LU3fw-opriDk4TA2sdw-N8",
  authDomain: "shin1-35930.firebaseapp.com",
  projectId: "shin1-35930",
  storageBucket: "shin1-35930.firebasestorage.app",
  messagingSenderId: "341705553561",
  appId: "1:341705553561:web:b071abdf4b15e966eb2a08",
  measurementId: "G-86NJYXDMC4"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const storage = getStorage(app);

window.__fb = {db, storage};
</script>
</head>

<body>
<div class="container">
  <h2 class="text-xl font-bold mb-4">글쓰기</h2>

  <textarea id="content" rows="6" class="w-full p-3 bg-slate-800 rounded mb-3" placeholder="내용을 입력하세요"></textarea>
  <input type="file" id="file" accept="image/*" class="mb-3">

  <button id="submit" class="px-4 py-2 bg-blue-700 rounded text-white">등록</button>
</div>

<script type="module">
import { collection, addDoc, serverTimestamp } 
from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
import { ref, uploadBytes, getDownloadURL } 
from "https://www.gstatic.com/firebasejs/11.6.1/firebase-storage.js";

const db = window.__fb.db;
const storage = window.__fb.storage;

document.getElementById("submit").onclick = async (
